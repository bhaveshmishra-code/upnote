---
categories:
- Inbox
---
# Firestore

**Version 2.0**

```
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
```

  

All Cloud Firestore Security Rules consist of `match` statements, which identify documents in your database, and `allow` expressions, which control access to those documents:

  

  

The service cloud.firestore declaration scopes the rules to Cloud Firestore, preventing conflicts between Cloud Firestore Security Rules and rules for other products such as Cloud Storage

```
service cloud.firestore {
  match /databases/{database}/documents {
    // ...
  }
}
```

  

### **match statement**

Basic rules consist of a match statement specifying a document path and an allow expression detailing when reading the specified data is allowed:

  

```
service cloud.firestore {
  match /databases/{database}/documents {
    // Match any document in the 'cities' collection
    match /cities/{city} {
      allow read: if <condition>;
      allow write: if <condition>;
    }
  }
}
```

  

All match statements should point to **documents** and not **collections**

**wildcard**

```
cities/{city}
```

  

### **Granular Statement**

A read rule can be broken into get and list, while a write rule can be broken into create, update, and delete

  

**subcollections**

```
service cloud.firestore {
  match /databases/{database}/documents {
    match /cities/{city} {
      allow read, write: if <condition>;
        // Explicitly define rules for the 'landmarks' subcollection
        match /landmarks/{landmark} {
          allow read, write: if <condition>;
        }
    }
  }
}
```

  

**recursive wildcard**

```
{name=**}
```

  

**overlapping match statements**

Access is allowed if any of the match statement evaluates to true

```
service cloud.firestore {
  match /databases/{database}/documents {
    // Matches any document in the 'cities' collection.
    match /cities/{city} {
      allow read, write: if false;
    }
    // Matches any document in the 'cities' collection or subcollections.
    match /cities/{document=**} {
      allow read, write: if true;
    }
  }
}
```